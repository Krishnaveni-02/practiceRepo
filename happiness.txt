some modifications to push this into remote